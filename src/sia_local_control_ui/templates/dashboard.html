<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIA Remote Command</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="dashboard-container">
        <header class="dashboard-header">
            <h1><img src="{{ url_for('static', filename='remote_command_logo.png') }}" alt="SIA Remote Command" class="header-logo"> SIA Remote Command </h1>
            <div class="header-info">
                <div class="connection-status">
                    <span id="connection-status" class="status-disconnected">
                        <i class="fas fa-circle"></i> Disconnected
                    </span>
                </div>
                <div class="timestamp">
                    Last Update: <span id="last-update">--</span>
                </div>
            </div>
        </header>

        <main class="dashboard-content">
            <!-- Pump Control and Skid Row -->
            <div class="pump-skid-row">
                <!-- Pump Control Section -->
                <section class="control-section pump-section">
                <h2><i class="fas fa-water"></i> Pump Control</h2>
                <div class="controls-grid">
                    <div class="control-card">
                        <h3></h3>
                        <div class="value-display" id="pump-control-label">
                            <span class="value">Pump 1</span>
                            <span class="unit"></span>
                        </div>
                    </div>
                    <div class="control-card">
                        <h3>Target Rate</h3>
                        <div class="value-display" id="target-rate">
                            <span class="value">0.0</span>
                            <span class="unit">L/min</span>
                        </div>
                    </div>
                    <div class="control-card">
                        <h3>Flow Rate</h3>
                        <div class="value-display" id="flow-rate">
                            <span class="value">0.0</span>
                            <span class="unit">L/min</span>
                        </div>
                    </div>
                    <div class="control-card">
                        <h3>Pump State</h3>
                        <div class="state-display" id="pump-state">
                            <span class="state-value">standby</span>
                        </div>
                    </div>
                </div>
                <div class="controls-grid">
                    <div class="control-card">
                        <h3></h3>
                        <div class="value-display" id="pump-control-label">
                            <span class="value">Pump 2</span>
                            <span class="unit"></span>
                        </div>
                    </div>
                    <div class="control-card">
                        <h3>Target Rate 2</h3>
                        <div class="value-display" id="target-rate">
                            <span class="value">0.0</span>
                            <span class="unit">L/min</span>
                        </div>
                    </div>
                    <div class="control-card">
                        <h3>Flow Rate 2 </h3>
                        <div class="value-display" id="flow-rate">
                            <span class="value">0.0</span>
                            <span class="unit">L/min</span>
                        </div>
                    </div>
                    <div class="control-card">
                        <h3>Pump State 2</h3>
                        <div class="state-display" id="pump-state">
                            <span class="state-value">standby</span>
                        </div>
                    </div>
                </div>
                </section>

                <!-- Skid Control Section -->
                <section class="control-section skid-section">
                    <h2><i class="fas fa-cogs"></i> Skid</h2>
                    <div class="controls-grid">
                        <div class="control-card">
                            <h3>Flow</h3>
                            <div class="value-display" id="skid-flow">
                                <span class="value">0.0</span>
                                <span class="unit">L/min</span>
                            </div>
                        </div>
                        <div class="control-card">
                            <h3>Pressure</h3>
                            <div class="value-display" id="skid-pressure">
                                <span class="value">0.0</span>
                                <span class="unit">bar</span>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Secondary Controls Row - Solar and Tank in Column -->
            <div class="secondary-controls-row">
                <!-- Solar Control Section -->
                <section class="control-section solar-section">
                    <h2><i class="fas fa-solar-panel"></i> Solar System</h2>
                    <div class="controls-grid">
                        <div class="control-card">
                            <h3>Battery</h3>
                            <div class="value-display" id="battery-voltage">
                                <span class="value">0.0</span>
                                <span class="unit">V</span>
                            </div>
                        </div>
                        <div class="control-card">
                            <h3>Battery</h3>
                            <div class="value-display" id="battery-percentage">
                                <span class="value">0</span>
                                <span class="unit">%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="battery-progress"></div>
                            </div>
                        </div>
                        <div class="control-card">
                            <h3>Panel</h3>
                            <div class="value-display" id="array-voltage">
                                <span class="value">0.0</span>
                                <span class="unit">V</span>
                            </div>
                        </div>
                        <div class="control-card">
                            <h3>Ah</h3>
                            <div class="value-display" id="battery-ah">
                                <span class="value">0.0</span>
                                <span class="unit">Ah</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Tank Control Section -->
                <section class="control-section tank-section">
                    <h2><i class="fas fa-tint"></i> Tank </h2>
                    <div class="controls-grid">
                        <div class="control-card">
                            <h3>Tank Level</h3>
                            <div class="value-display" id="tank-level-mm">
                                <span class="value">0</span>
                                <span class="unit">mm</span>
                            </div>
                        </div>
                        <div class="control-card">
                            <h3>Tank Level</h3>
                            <div class="value-display" id="tank-level-percent">
                                <span class="value">0</span>
                                <span class="unit">%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="tank-progress"></div>
                            </div>
                        </div>
                        
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Loading overlay -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Connecting to dashboard...</p>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.2/socket.io.js"></script>
    <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
</body>
</html>
